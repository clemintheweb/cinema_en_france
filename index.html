<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Tourney:wght@400;500;700;800&family=Jura:wght@300;400;500;700&display=swap" rel="stylesheet">
<title>les cinémas en France</title>
<style>
    
/* === Base reset === */
html,body{margin:0;padding:0;height:100%;overflow-x:hidden;}
/* === Title wrapper === */
.title-wrapper{position:absolute;top:10%;right:17.5%;width:75vw;height:auto;pointer-events:none;z-index:999;}
/* === Bicolor text === */
.text{position:absolute;width:100%;text-align:right;pointer-events:none;line-height:1;text-transform:uppercase;letter-spacing:.05em;font-family:"Jura",sans-serif;}
.text.black{color:#1A1A17;}
.text.white{color:#D0FFFD;}
.text.black h1,.text.white h1{font-weight:700;font-size:6rem;}
.text.black h2,.text.white h2{font-weight:500;font-size:2.6rem;}
.text.black h3,.text.white h3{font-family:"Jura",sans-serif;font-weight:500;font-size:2rem;}
/* === Tutorial text (vertical hint) === */
.slide-tuto{position:fixed;bottom:10%;right:1rem;width:90vw;height:auto;writing-mode:vertical-rl;text-orientation:mixed;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:"Jura",sans-serif;font-weight:400;font-size:2rem;color:#2C2C26;z-index:99999;pointer-events:none;}
/* === Panels layout === */
.container{display:flex;width:100vw;height:100vh;}
.left-panel{width:82vw;background:#1A1A17;color:#D0FFFD;display:flex;justify-content:center;align-items:center;font-size:2rem;}
.divider{width:8px;background:#1A1A17;cursor:grab;position:absolute;top:0;height:100%;}
.divider-hitbox{position:absolute;top:0;height:100%;bottom:0;width:100px;margin-left:-16px;cursor:grab;z-index:99999;}
.right-panel{flex:1;width:5vw;background:#D0FFFD;color:#1A1A17;display:flex;justify-content:center;align-items:center;font-size:2rem;}
    
/* === Start button === */
.start-btn{padding:1rem 2.5rem;background:transparent;color:#1A1A17;border:2px solid #1A1A17;font-family:"Jura",sans-serif;font-size:1.4rem;text-transform:uppercase;cursor:pointer;transition:transform .2s ease,background .3s;position:fixed;top:25%;left:12%;width:30vw;height:50vh;min-height:4rem;z-index:99999;}
.start-btn:hover{transform:translateX(8px);background:#1A1A17;color:#D0FFFD;}
    
/* === Responsive adjustments === */
@media(max-width:1500px) and (min-width:1001px){
.text.black h1,.text.white h1{font-size:4rem;}
.text.black h2,.text.white h2{font-size:2rem;}
.text.black h3,.text.white h3{font-size:1.6rem;}
.title-wrapper{top:7%;right:10%;width:70vw;}
.start-btn{width:20vw;height:30vh;font-size:1.1rem;padding:.8rem 1.2rem;top:25%;}
.slide-tuto{font-size:1.2rem;position:fixed;right:.1rem;bottom:28%;transform:translateX(-50%);width:auto;max-height:60vh;writing-mode:vertical-rl;text-align:center;z-index:99999;pointer-events:none;}
.left-panel{width:82%;}
.right-panel{flex:1;}
}
    
/* === Mobile layout === */
@media(max-width:1000px){
html,body{overflow-y:auto;overflow-x:hidden;}
.container{flex-direction:column;height:100vh;}
.left-panel{width:100vw!important;height:50vh;order:1;background:#1A1A17;}
.right-panel{width:100vw!important;height:50vh;order:2;background:#D0FFFD;position:relative;}
.divider,.divider-hitbox{display:none!important;}
.title-wrapper{position:absolute;top:2rem;left:50%;transform:translateX(-50%);width:90vw;text-align:center;z-index:9999;}
.text.black h1,.text.white h1{font-size:2.2rem!important;}
.text.black h2,.text.white h2{font-size:1.2rem!important;}
.text.black h3,.text.white h3{font-size:1rem!important;}
.text.white,.text.black{clip-path:none!important;}
.start-btn{position:absolute!important;left:50%!important;transform:translateX(-50%)!important;width:70vw!important;height:auto!important;min-height:2rem;bottom:5%!important;top:auto!important;padding:.8rem 1.2rem;text-align:center;z-index:9999;}
.slide-tuto{display:none!important;}
}
</style>
</head>
<body>
    
<!-- === Fullscreen panels === -->
<div class="container" id="container">
  <div class="left-panel" id="leftPanel"></div>
  <div class="divider" id="divider"></div>
  <div class="divider-hitbox" id="dividerHitbox"></div>
  <div class="right-panel"></div>
</div>
    
<!-- === Title text === -->
<div class="title-wrapper">
  <div id="textBlack" class="text black">
    <h1>les cinémas <br> en France</h1>
    <h2>dans notre espace de vie <br> et dans toute leur diversité</h2>
    <h3>cartographie ludique et exploratoire <br> des salles obscures françaises</h3>
  </div>
  <div id="textWhite" class="text white">
    <h1>les cinémas <br> en France</h1>
    <h2>dans notre espace de vie <br> et dans toute leur diversité</h2>
    <h3>cartographie ludique et exploratoire <br> des salles obscures françaises</h3>
  </div>
</div>
    
<!-- === Instruction text === -->
<div class="slide-tuto"><p>glisser la bande blanche vers la gauche de l'écran</p></div>
    
<!-- === Button to open map === -->
<button class="start-btn" onclick="location.href='map/map.html'">carte des salles de cinémas en France</button>
<script>
    
/* === Slider interaction === */
const divider=document.getElementById("divider"),
dividerHitbox=document.getElementById("dividerHitbox"),
leftPanel=document.getElementById("leftPanel"),
container=document.getElementById("container"),
textBlack=document.getElementById("textBlack"),
textWhite=document.getElementById("textWhite"),
titleWrapper=document.querySelector(".title-wrapper");
let dragging=false;const MIN_PERCENT=5;
    
/* --- Start / Stop drag --- */
function startDrag(){dragging=true;document.body.style.cursor="grab";}
function stopDrag(){dragging=false;document.body.style.cursor="default";}
divider.addEventListener("mousedown",startDrag);
dividerHitbox.addEventListener("mousedown",startDrag);
document.addEventListener("mouseup",stopDrag);
divider.addEventListener("touchstart",startDrag);
dividerHitbox.addEventListener("touchstart",startDrag);
document.addEventListener("touchend",stopDrag);
    
/* --- Update slider position --- */
function updateSlider(clientX){
  const rect=container.getBoundingClientRect(),titleRect=titleWrapper.getBoundingClientRect();
  let x=clientX-rect.left,minX=rect.width*MIN_PERCENT/100,maxX=titleRect.right-rect.left;
  if(x<minX)x=minX;if(x>maxX)x=maxX;
  leftPanel.style.width=`${x}px`;
  divider.style.transform=`translateX(${x}px)`;
  dividerHitbox.style.transform=`translateX(${x}px)`;
  const clipLeft=Math.max(0,x-(titleRect.left-rect.left)),clipRight=Math.max(0,(titleRect.right-rect.left)-x);
  textBlack.style.clipPath=`inset(0 0 0 ${clipLeft}px)`;
  textWhite.style.clipPath=`inset(0 ${clipRight}px 0 0)`;
}
    
/* --- Listen to mouse / touch move --- */
document.addEventListener("mousemove",e=>{if(!dragging)return;updateSlider(e.clientX);});
document.addEventListener("touchmove",e=>{if(!dragging)return;updateSlider(e.touches[0].clientX);});
    
/* --- Set initial & responsive position --- */
window.addEventListener("load",()=>{const rect=container.getBoundingClientRect();updateSlider(rect.width*.82);});
window.addEventListener("resize",()=>{const rect=container.getBoundingClientRect();updateSlider(rect.width*.82);});
</script>
</body>
</html>

